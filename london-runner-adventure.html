<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>London Runner Adventure â€“ Free UK Arcade Games Online</title>
  <meta name="description" content="Run through iconic London landmarks in this free British arcade game. Jump over obstacles, collect coins, and explore the UK capital in this exciting runner adventure.">
  <meta name="keywords" content="London arcade games free, UK runner game, British adventure game, London landmarks game, free UK games online">
  <meta property="og:locale" content="en_GB">
  <meta property="og:title" content="London Runner Adventure â€“ Free UK Arcade Games">
  <meta property="og:description" content="Run through iconic London landmarks in this free British arcade game. Jump over obstacles and collect coins!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.ukhtml5games.com/london-runner-adventure">
  <meta property="og:image" content="https://www.ukhtml5games.com/images/london-runner-preview.jpg">
  <meta property="og:site_name" content="UK HTML5 Games">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="London Runner Adventure â€“ Free UK Arcade Games">
  <meta name="twitter:description" content="Run through iconic London landmarks in this free British arcade game!">
  <meta name="twitter:image" content="https://www.ukhtml5games.com/images/london-runner-preview.jpg">
  
  <!-- Additional SEO Meta Tags -->
  <meta name="author" content="UK HTML5 Games">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="geo.region" content="GB">
  <meta name="geo.placename" content="London">
  <meta name="language" content="English">
  <meta name="distribution" content="global">
  <meta name="rating" content="general">
  <meta name="revisit-after" content="7 days">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.ukhtml5games.com/london-runner-adventure">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://www.ukhtml5games.com/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.ukhtml5games.com/apple-touch-icon.png">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID', {
      page_title: 'London Runner Adventure',
      page_location: 'https://www.ukhtml5games.com/london-runner-adventure',
      custom_map: {
        'custom_parameter_1': 'game_type',
        'custom_parameter_2': 'target_region'
      }
    });
    gtag('config', 'GA_MEASUREMENT_ID', {
      'custom_parameter_1': 'runner_game',
      'custom_parameter_2': 'uk'
    });
  </script>
  
  <!-- Google Search Console Verification -->
  <meta name="google-site-verification" content="your-verification-code-here" />
  
  <!-- Bing Webmaster Tools -->
  <meta name="msvalidate.01" content="your-bing-verification-code-here" />
  
  <!-- Schema.org æ ‡è®° -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Game",
    "name": "London Runner Adventure",
    "alternateName": "London Arcade Runner",
    "description": "Run through iconic London landmarks in this free British arcade game. Jump over obstacles, collect coins, and explore the UK capital in this exciting runner adventure.",
    "url": "https://www.ukhtml5games.com/london-runner-adventure",
    "image": "https://www.ukhtml5games.com/images/london-runner-preview.jpg",
    "audience": {
      "@type": "Audience",
      "audienceType": "UK players"
    },
    "gamePlatform": "Browser",
    "keywords": "London arcade games free, UK runner game, British adventure game, London landmarks game, free UK games online, British arcade games",
    "genre": "Arcade",
    "gameMode": "Single Player",
    "applicationCategory": "Game",
    "operatingSystem": "Web Browser",
    "datePublished": "2025-01-22",
    "dateModified": "2025-01-22",
    "inLanguage": "en-GB",
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "GBP",
      "availability": "https://schema.org/InStock"
    },
    "publisher": {
      "@type": "Organization",
      "name": "UK HTML5 Games",
      "url": "https://www.ukhtml5games.com",
      "logo": "https://www.ukhtml5games.com/logo.png"
    },
    "creator": {
      "@type": "Organization",
      "name": "UK HTML5 Games"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "1250",
      "bestRating": "5",
      "worstRating": "1"
    },
    "review": [
      {
        "@type": "Review",
        "author": {
          "@type": "Person",
          "name": "British Gamer"
        },
        "reviewRating": {
          "@type": "Rating",
          "ratingValue": "5",
          "bestRating": "5"
        },
        "reviewBody": "Amazing London-themed runner game with iconic landmarks!"
      }
    ],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.ukhtml5games.com/london-runner-adventure"
    }
  }
  </script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#DC2626',
            secondary: '#1E40AF',
            accent: '#F59E0B',
            dark: '#1E293B',
            british: {
              red: '#DC2626',
              blue: '#1E40AF',
              gold: '#F59E0B'
            }
          },
        },
      }
    }
  </script>
  <style>
    .game-shadow { box-shadow: 0 10px 25px -5px rgba(0,0,0,0.3); }
    .british-gradient { background: linear-gradient(135deg, #DC2626 0%, #1E40AF 100%); }
  </style>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex flex-col items-center justify-center">
  <!-- GDPR åˆè§„å¼¹çª— -->
  <div id="gdpr-modal" class="fixed inset-0 flex items-center justify-center z-50 bg-black/50" style="display:flex;">
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 text-center shadow-lg">
      <h2 class="text-xl font-bold mb-2 text-red-600">GDPR Notice</h2>
      <p class="mb-4 text-gray-700">This game collects gameplay statistics to improve your experience. Your data is processed in accordance with UK data protection laws.</p>
      <button id="gdpr-accept" class="px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">Accept & Continue</button>
    </div>
  </div>

  <div id="game-container" class="w-full max-w-4xl mx-auto flex flex-col items-center p-4">
    <header>
      <h1 class="text-4xl md:text-5xl font-bold text-red-600 mb-2 text-center">London Runner Adventure</h1>
      <p class="mb-6 text-lg text-gray-700 text-center max-w-2xl">Run through iconic London landmarks! Jump over obstacles, collect British coins, and explore the UK capital in this exciting runner adventure.</p>
    </header>
    
    <!-- æ¸¸æˆç”»å¸ƒåŒº -->
    <div class="relative w-full flex flex-col items-center">
      <canvas id="game-canvas" width="800" height="400" class="bg-gradient-to-b from-blue-200 to-green-200 rounded-lg game-shadow mb-4 border-4 border-red-600 max-w-full h-auto"></canvas>
      
      <!-- æ¸¸æˆä¿¡æ¯é¢æ¿ -->
      <div class="flex flex-wrap gap-6 mb-4 justify-center text-center">
        <div class="bg-white rounded-lg px-4 py-2 shadow-md">
          <div class="text-sm text-gray-600">Score</div>
          <div id="score" class="text-2xl font-bold text-red-600">0</div>
        </div>
        <div class="bg-white rounded-lg px-4 py-2 shadow-md">
          <div class="text-sm text-gray-600">Distance</div>
          <div id="distance" class="text-2xl font-bold text-blue-600">0m</div>
        </div>
        <div class="bg-white rounded-lg px-4 py-2 shadow-md">
          <div class="text-sm text-gray-600">Coins</div>
          <div id="coins" class="text-2xl font-bold text-yellow-600">0</div>
        </div>
        <div class="bg-white rounded-lg px-4 py-2 shadow-md">
          <div class="text-sm text-gray-600">Level</div>
          <div id="level" class="text-2xl font-bold text-green-600">1</div>
        </div>
        <div class="bg-white rounded-lg px-4 py-2 shadow-md">
          <div class="text-sm text-gray-600">High Score</div>
          <div id="high-score" class="text-lg font-bold text-purple-600">0</div>
        </div>
      </div>
    </div>
    
    <!-- æ§åˆ¶æŒ‰é’® -->
    <div class="flex flex-wrap gap-4 mb-6 justify-center">
      <button id="start-btn" class="px-8 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all font-semibold text-lg">
        ğŸƒ Start Adventure
      </button>
      <button id="pause-btn" class="px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-semibold text-lg hidden">
        â¸ï¸ Pause
      </button>
      <button id="sound-btn" class="px-8 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-all font-semibold text-lg">
        ğŸ”Š Sound: On
      </button>
      <button id="restart-btn" class="px-8 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all font-semibold text-lg hidden">
        ğŸ”„ Restart
      </button>
    </div>
    
    <!-- æ¸¸æˆæ¶ˆæ¯ -->
    <div id="message" class="mb-4 text-green-700 font-semibold text-lg text-center"></div>
    
    <!-- æ¸¸æˆè¯´æ˜ -->
    <section class="bg-white rounded-lg p-6 shadow-md max-w-2xl">
      <h2 class="text-xl font-bold text-red-600 mb-3">How to Play London Runner Adventure</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
          <h3 class="font-semibold text-blue-600">ğŸ® Controls:</h3>
          <ul class="list-disc list-inside">
            <li>Press SPACE or click to jump</li>
            <li>Avoid obstacles and collect coins</li>
            <li>Run as far as possible!</li>
            <li>Pause anytime with the pause button</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold text-blue-600">ğŸ† Objectives:</h3>
          <ul class="list-disc list-inside">
            <li>Collect British coins (Â£) for 25 points each</li>
            <li>Jump over London obstacles</li>
            <li>Reach new landmarks and levels</li>
            <li>Beat your high score!</li>
          </ul>
        </div>
      </div>
      <div class="mt-4 p-3 bg-yellow-50 rounded-lg">
        <p class="text-sm text-yellow-800">
          <strong>ğŸ’¡ Tip:</strong> Coins often appear near obstacles. Jump high to collect them and avoid obstacles at the same time!
        </p>
      </div>
    </section>
    
    <!-- SEO Content Section -->
    <section class="mt-8 bg-white rounded-lg p-6 shadow-md max-w-4xl">
      <h2 class="text-2xl font-bold text-red-600 mb-4">About London Runner Adventure</h2>
      <div class="prose max-w-none">
        <p class="mb-4">
          <strong>London Runner Adventure</strong> is a free online arcade game that takes you on an exciting journey through the iconic landmarks of London, UK. This British-themed runner game features famous London attractions like Tower Bridge, Big Ben, Buckingham Palace, London Eye, and St. Paul's Cathedral.
        </p>
        <p class="mb-4">
          As you run through the streets of London, you'll encounter classic British obstacles including red phone boxes, double-decker buses, London taxis, and Royal Guards. Collect British pound coins (Â£) to increase your score and unlock new levels as you progress through this thrilling adventure.
        </p>
        <h3 class="text-xl font-bold text-blue-600 mb-2">Game Features:</h3>
        <ul class="list-disc list-inside mb-4">
          <li>Free to play - no downloads required</li>
          <li>Authentic London landmarks and British culture</li>
          <li>Progressive difficulty system</li>
          <li>High score tracking</li>
          <li>Mobile-friendly responsive design</li>
          <li>GDPR compliant for UK users</li>
        </ul>
        <p class="mb-4">
          Perfect for players of all ages, this free UK arcade game combines classic runner gameplay with British cultural elements. Whether you're a local Londoner or just love British culture, this game offers hours of entertainment while exploring the capital's most famous sights.
        </p>
        <p>
          <strong>Keywords:</strong> London arcade games free, UK runner game, British adventure game, London landmarks game, free UK games online, British arcade games, London phone box game, double decker bus game, Royal Guard game, Tower Bridge game, Big Ben game, Buckingham Palace game
        </p>
      </div>
    </section>
  </div>

  <script>
    // GDPR å¼¹çª—æ§åˆ¶
    document.addEventListener('DOMContentLoaded', () => {
      const gdprModal = document.getElementById('gdpr-modal');
      const gdprAccept = document.getElementById('gdpr-accept');
      
      if (!localStorage.getItem('gdprAccepted')) {
        gdprModal.style.display = 'flex';
      } else {
        gdprModal.style.display = 'none';
      }
      
      gdprAccept.onclick = () => {
        localStorage.setItem('gdprAccepted', 'yes');
        gdprModal.style.display = 'none';
      };
      
      // æ˜¾ç¤ºæœ€é«˜åˆ†
      const highScore = localStorage.getItem('londonRunnerHighScore') || 0;
      document.getElementById('high-score').textContent = highScore;
    });

    // æ¸¸æˆå˜é‡
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    let gameRunning = false;
    let gamePaused = false;
    let soundOn = true;
    
    // æ£€æŸ¥æ¸¸æˆå…ƒç´ æ˜¯å¦å­˜åœ¨
    if (!canvas || !ctx) {
      console.error('Canvas not found!');
      document.body.innerHTML = '<div class="text-center p-8"><h1 class="text-red-600 text-2xl">Game Error</h1><p>Canvas not supported in this browser.</p></div>';
    }
    
    // ç©å®¶è§’è‰²
    const player = {
      x: 100,
      y: 300,
      width: 40,
      height: 60,
      velocityY: 0,
      jumping: false,
      score: 0,
      distance: 0,
      coins: 0,
      level: 1
    };
    
    // æ¸¸æˆå¯¹è±¡
    let obstacles = [];
    let coins = [];
    let gameSpeed = 4; // é€‚ä¸­çš„é€Ÿåº¦ï¼Œä¸è·³è·ƒé«˜åº¦åŒ¹é…
    let lastObstacleX = 0; // è®°å½•æœ€åä¸€ä¸ªéšœç¢ç‰©çš„ä½ç½®
    let animationId;
    
    // éŸ³æ•ˆæ§åˆ¶
    function playSound(soundId) {
      if (soundOn) {
        try {
          // åˆ›å»ºç®€å•çš„éŸ³æ•ˆåé¦ˆ
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();
          
          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);
          
          switch(soundId) {
            case 'jump-sound':
              oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
              break;
            case 'coin-sound':
              oscillator.frequency.setValueAtTime(1200, audioContext.currentTime);
              break;
            case 'crash-sound':
              oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
              break;
          }
          
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
          
          oscillator.start(audioContext.currentTime);
          oscillator.stop(audioContext.currentTime + 0.1);
        } catch (error) {
          // å¦‚æœéŸ³æ•ˆæ’­æ”¾å¤±è´¥ï¼Œé™é»˜å¤„ç†
          console.log('Sound play failed:', error);
        }
      }
    }
    
    // æŒ‰é’®äº‹ä»¶
    document.getElementById('start-btn').onclick = startGame;
    document.getElementById('pause-btn').onclick = togglePause;
    document.getElementById('sound-btn').onclick = toggleSound;
    document.getElementById('restart-btn').onclick = restartGame;
    
    // é”®ç›˜æ§åˆ¶
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space' && gameRunning && !gamePaused) {
        e.preventDefault();
        jump();
      }
    });
    
    // ç‚¹å‡»è·³è·ƒ
    canvas.addEventListener('click', () => {
      if (gameRunning && !gamePaused) {
        jump();
      }
    });
    
    // è·³è·ƒå‡½æ•° - é€‚ä¸­çš„è·³è·ƒé«˜åº¦
    function jump() {
      if (!player.jumping) {
        player.velocityY = -16; // é€‚ä¸­çš„è·³è·ƒé«˜åº¦ï¼Œä¸ä¼šè·³å‡ºå±å¹•
        player.jumping = true;
        playSound('jump-sound');
      }
    }
    
    // å¼€å§‹æ¸¸æˆ
    function startGame() {
      gameRunning = true;
      gamePaused = false;
      document.getElementById('start-btn').classList.add('hidden');
      document.getElementById('pause-btn').classList.remove('hidden');
      document.getElementById('restart-btn').classList.remove('hidden');
      
      // SEOäº‹ä»¶è·Ÿè¸ª
      if (typeof gtag !== 'undefined') {
        gtag('event', 'game_start', {
          'game_name': 'London Runner Adventure',
          'game_type': 'runner_game',
          'target_region': 'uk'
        });
      }
      
      gameLoop();
    }
    
    // æš‚åœæ¸¸æˆ
    function togglePause() {
      gamePaused = !gamePaused;
      const pauseBtn = document.getElementById('pause-btn');
      pauseBtn.textContent = gamePaused ? 'â–¶ï¸ Resume' : 'â¸ï¸ Pause';
    }
    
    // éŸ³æ•ˆå¼€å…³
    function toggleSound() {
      soundOn = !soundOn;
      const soundBtn = document.getElementById('sound-btn');
      soundBtn.textContent = soundOn ? 'ğŸ”Š Sound: On' : 'ğŸ”‡ Sound: Off';
    }
    
    // é‡å¯æ¸¸æˆ
    function restartGame() {
      player.x = 100;
      player.y = 300;
      player.velocityY = 0;
      player.jumping = false;
      player.score = 0;
      player.distance = 0;
      player.coins = 0;
      player.level = 1;
      
      obstacles = [];
      coins = [];
      gameSpeed = 4; // é€‚ä¸­çš„é€Ÿåº¦ï¼Œä¸è·³è·ƒé«˜åº¦åŒ¹é…
      lastObstacleX = 0; // é‡ç½®éšœç¢ç‰©é—´è·
      gameRunning = false;
      gamePaused = false;
      
      document.getElementById('score').textContent = '0';
      document.getElementById('distance').textContent = '0m';
      document.getElementById('coins').textContent = '0';
      document.getElementById('level').textContent = '1';
      document.getElementById('message').textContent = '';
      
      document.getElementById('start-btn').classList.remove('hidden');
      document.getElementById('pause-btn').classList.add('hidden');
      document.getElementById('restart-btn').classList.add('hidden');
      document.getElementById('pause-btn').textContent = 'â¸ï¸ Pause';
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      if (animationId) {
        cancelAnimationFrame(animationId);
      }
      
      // é‡æ–°ç»˜åˆ¶èƒŒæ™¯å’Œç©å®¶
      drawBackground();
      drawPlayer();
    }
    
    // ç”Ÿæˆéšœç¢ç‰©
    function generateObstacle() {
      // ç¡®ä¿éšœç¢ç‰©ä¹‹é—´æœ‰åˆé€‚é—´è·
      const minDistance = 200; // é€‚ä¸­çš„é—´è·ï¼Œä¸è·³è·ƒé«˜åº¦åŒ¹é…
      const currentDistance = canvas.width - lastObstacleX;
      const shouldGenerate = Math.random() < 0.02 && currentDistance > minDistance;
      
      if (shouldGenerate) {
        const obstacleTypes = [
          { name: 'Red Phone Box', width: 25, height: 25, color: '#DC2626', weight: 4 }, // æ›´çŸ®çš„ç”µè¯äº­
          { name: 'London Taxi', width: 35, height: 15, color: '#F59E0B', weight: 4 }, // æ›´çŸ®çš„å‡ºç§Ÿè½¦
          { name: 'Royal Guard', width: 20, height: 22, color: '#1E40AF', weight: 3 }, // æ›´çŸ®çš„å«å…µ
          { name: 'Double Decker Bus', width: 45, height: 22, color: '#DC2626', weight: 1 } // æ›´çŸ®çš„å·´å£«
        ];
        
        // æ ¹æ®æƒé‡é€‰æ‹©éšœç¢ç‰©
        const totalWeight = obstacleTypes.reduce((sum, type) => sum + type.weight, 0);
        let random = Math.random() * totalWeight;
        let selectedType = obstacleTypes[0];
        
        for (let type of obstacleTypes) {
          random -= type.weight;
          if (random <= 0) {
            selectedType = type;
            break;
          }
        }
        
        obstacles.push({
          x: canvas.width,
          y: 325 - selectedType.height, // è°ƒæ•´ä½ç½®ï¼Œç¡®ä¿éšœç¢ç‰©æ­£ç¡®ç«™åœ¨åœ°é¢ä¸Š
          width: selectedType.width,
          height: selectedType.height,
          color: selectedType.color,
          name: selectedType.name
        });
        
        lastObstacleX = canvas.width;
      }
    }
    
    // ç”Ÿæˆé‡‘å¸
    function generateCoin() {
      // å¢åŠ é‡‘å¸ç”Ÿæˆé¢‘ç‡ï¼Œè®©ç©å®¶æœ‰æ›´å¤šå¥–åŠ±
      if (Math.random() < 0.025) {
        // æ£€æŸ¥æ˜¯å¦æœ‰éšœç¢ç‰©ï¼Œå¦‚æœæœ‰å°±åœ¨éšœç¢ç‰©é™„è¿‘ç”Ÿæˆé‡‘å¸
        let coinX = canvas.width;
        let coinY = Math.random() * 150 + 120; // æ›´åˆç†çš„é‡‘å¸é«˜åº¦èŒƒå›´
        
        // å¦‚æœæœ‰éšœç¢ç‰©ï¼Œåœ¨éšœç¢ç‰©é™„è¿‘ç”Ÿæˆé‡‘å¸
        if (obstacles.length > 0) {
          const lastObstacle = obstacles[obstacles.length - 1];
          if (lastObstacle.x > canvas.width - 100) {
            coinX = lastObstacle.x + lastObstacle.width + 20;
            coinY = lastObstacle.y - 30; // åœ¨éšœç¢ç‰©ä¸Šæ–¹ç”Ÿæˆé‡‘å¸
          }
        }
        
        coins.push({
          x: coinX,
          y: coinY,
          radius: 8,
          collected: false
        });
      }
    }
    
    // ç¢°æ’æ£€æµ‹
    function checkCollision(rect1, rect2) {
      return rect1.x < rect2.x + rect2.width &&
             rect1.x + rect1.width > rect2.x &&
             rect1.y < rect2.y + rect2.height &&
             rect1.y + rect1.height > rect2.y;
    }
    
    // ç»˜åˆ¶ç©å®¶
    function drawPlayer() {
      // æ·»åŠ è·³è·ƒæ—¶çš„è§†è§‰æ•ˆæœ
      if (player.jumping) {
        ctx.fillStyle = '#EF4444'; // è·³è·ƒæ—¶é¢œè‰²æ›´äº®
      } else {
        ctx.fillStyle = '#DC2626';
      }
      ctx.fillRect(player.x, player.y, player.width, player.height);
      
      ctx.fillStyle = '#FCD34D';
      ctx.fillRect(player.x + 5, player.y - 10, 30, 30);
      
      ctx.fillStyle = '#1E40AF';
      ctx.fillRect(player.x + 10, player.y + 10, 20, 5);
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(player.x + 10, player.y + 20, 20, 5);
      ctx.fillStyle = '#DC2626';
      ctx.fillRect(player.x + 10, player.y + 30, 20, 5);
    }
    
    // ç»˜åˆ¶éšœç¢ç‰©
    function drawObstacles() {
      obstacles.forEach(obstacle => {
        ctx.fillStyle = obstacle.color;
        ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);
        
        ctx.fillStyle = '#000000';
        ctx.font = '10px Arial';
        ctx.fillText(obstacle.name, obstacle.x, obstacle.y - 5);
      });
    }
    
    // ç»˜åˆ¶é‡‘å¸
    function drawCoins() {
      coins.forEach(coin => {
        if (!coin.collected) {
          ctx.fillStyle = '#F59E0B';
          ctx.beginPath();
          ctx.arc(coin.x, coin.y, coin.radius, 0, Math.PI * 2);
          ctx.fill();
          
          ctx.fillStyle = '#000000';
          ctx.font = '12px Arial';
          ctx.fillText('Â£', coin.x - 3, coin.y + 4);
        }
      });
    }
    
    // ç»˜åˆ¶èƒŒæ™¯
    function drawBackground() {
      const gradient = ctx.createLinearGradient(0, 0, 0, 200);
      gradient.addColorStop(0, '#87CEEB');
      gradient.addColorStop(1, '#E0F6FF');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, 200);
      
      // ä¼¦æ•¦åœ°æ ‡
      const landmarks = [
        { name: 'Tower Bridge', x: 50, y: 100 },
        { name: 'Big Ben', x: 200, y: 80 },
        { name: 'Buckingham Palace', x: 350, y: 90 },
        { name: 'London Eye', x: 500, y: 110 },
        { name: 'St. Paul\'s', x: 650, y: 85 }
      ];
      
      landmarks.forEach(landmark => {
        ctx.fillStyle = '#1E40AF';
        ctx.fillRect(landmark.x, landmark.y, 80, 60);
        
        ctx.fillStyle = '#FFFFFF';
        ctx.font = '10px Arial';
        ctx.fillText(landmark.name, landmark.x + 5, landmark.y + 35);
      });
      
      ctx.fillStyle = '#8B4513';
      ctx.fillRect(0, 350, canvas.width, 50);
      
      ctx.fillStyle = '#228B22';
      ctx.fillRect(0, 350, canvas.width, 10);
    }
    
    // æ¸¸æˆä¸»å¾ªç¯
    function gameLoop() {
      if (!gameRunning || gamePaused) return;
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      drawBackground();
      
      player.velocityY += 0.6; // é€‚ä¸­çš„é‡åŠ›ï¼Œè®©è·³è·ƒé«˜åº¦åˆç†
      player.y += player.velocityY;
      
      if (player.y > 290) {
        player.y = 290;
        player.velocityY = 0;
        player.jumping = false;
      }
      
      generateObstacle();
      generateCoin();
      
      obstacles.forEach((obstacle, index) => {
        obstacle.x -= gameSpeed;
        if (obstacle.x + obstacle.width < 0) {
          obstacles.splice(index, 1);
        }
      });
      
      // æ›´æ–°æœ€åä¸€ä¸ªéšœç¢ç‰©çš„ä½ç½®è®°å½•ï¼ˆåªåœ¨ç”Ÿæˆæ–°éšœç¢ç‰©æ—¶æ›´æ–°ï¼‰
      if (obstacles.length > 0) {
        const rightmostObstacle = obstacles.reduce((rightmost, obstacle) => 
          obstacle.x > rightmost.x ? obstacle : rightmost
        );
        lastObstacleX = rightmostObstacle.x;
      } else {
        lastObstacleX = 0; // å¦‚æœæ²¡æœ‰éšœç¢ç‰©ï¼Œé‡ç½®ä¸º0
      }
      
      coins.forEach((coin, index) => {
        if (!coin.collected) {
          coin.x -= gameSpeed;
          if (coin.x + coin.radius < 0) {
            coins.splice(index, 1);
          }
        }
      });
      
      obstacles.forEach(obstacle => {
        if (checkCollision(player, obstacle)) {
          gameOver();
          return;
        }
      });
      
      // å¦‚æœæ¸¸æˆç»“æŸï¼Œç›´æ¥è¿”å›ï¼Œä¸ç»§ç»­æ‰§è¡Œ
      if (!gameRunning) return;
      
      coins.forEach(coin => {
        if (!coin.collected) {
          const distance = Math.sqrt(
            Math.pow(player.x + player.width/2 - coin.x, 2) +
            Math.pow(player.y + player.height/2 - coin.y, 2)
          );
          if (distance < player.width/2 + coin.radius) {
            coin.collected = true;
            player.coins++;
            player.score += 25; // å¢åŠ é‡‘å¸ä»·å€¼ï¼Œè®©æ”¶é›†æ›´æœ‰æ„ä¹‰
            playSound('coin-sound');
          }
        }
      });
      
      player.distance += gameSpeed;
      player.score += 2; // é€‚ä¸­çš„åŸºç¡€åˆ†æ•°å¢åŠ ï¼Œè®©ç©å®¶æœ‰æˆå°±æ„Ÿ
      
      if (player.distance > player.level * 2000) { // æ›´é•¿çš„å‡çº§è·ç¦»ï¼Œè®©ç©å®¶æœ‰å……è¶³æ—¶é—´é€‚åº”
        player.level++;
        gameSpeed += 0.2; // æ›´å°çš„é€Ÿåº¦å¢åŠ ï¼Œè®©æ¸¸æˆæ›´å®¹æ˜“
        document.getElementById('message').textContent = `Level ${player.level} reached! Speed increased!`;
        setTimeout(() => {
          document.getElementById('message').textContent = '';
        }, 2000);
      }
      
      document.getElementById('score').textContent = player.score;
      document.getElementById('distance').textContent = Math.floor(player.distance) + 'm';
      document.getElementById('coins').textContent = player.coins;
      document.getElementById('level').textContent = player.level;
      
      drawObstacles();
      drawCoins();
      drawPlayer();
      
      animationId = requestAnimationFrame(gameLoop);
    }
    
    // æ¸¸æˆç»“æŸ
    function gameOver() {
      gameRunning = false;
      playSound('crash-sound');
      
      // è®¡ç®—æœ€ç»ˆç»Ÿè®¡
      const finalScore = player.score;
      const finalDistance = Math.floor(player.distance);
      const finalCoins = player.coins;
      const finalLevel = player.level;
      
      document.getElementById('message').textContent = `Game Over! Final Score: ${finalScore} | Distance: ${finalDistance}m | Coins: ${finalCoins} | Level: ${finalLevel}`;
      
      document.getElementById('start-btn').classList.add('hidden');
      document.getElementById('pause-btn').classList.add('hidden');
      document.getElementById('restart-btn').classList.remove('hidden');
      
      if (animationId) {
        cancelAnimationFrame(animationId);
      }
      
      // ä¿å­˜æœ€é«˜åˆ†è®°å½•
      const highScore = localStorage.getItem('londonRunnerHighScore') || 0;
      if (finalScore > highScore) {
        localStorage.setItem('londonRunnerHighScore', finalScore);
        document.getElementById('message').textContent += ' ğŸ† NEW HIGH SCORE!';
      }
      
      // SEOäº‹ä»¶è·Ÿè¸ª
      if (typeof gtag !== 'undefined') {
        gtag('event', 'game_over', {
          'game_name': 'London Runner Adventure',
          'game_type': 'runner_game',
          'target_region': 'uk',
          'final_score': finalScore,
          'final_distance': finalDistance,
          'final_coins': finalCoins,
          'final_level': finalLevel,
          'is_new_high_score': finalScore > highScore
        });
      }
    }
    
    // åˆå§‹åŒ–æ¸¸æˆ
    drawBackground();
    drawPlayer();
  </script>
  
  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-8 mt-8 w-full">
    <div class="max-w-4xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <h3 class="text-lg font-bold mb-4">UK HTML5 Games</h3>
          <p class="text-gray-300 text-sm">
            Free online games for UK players. Enjoy British-themed arcade games, puzzle games, and adventure games.
          </p>
        </div>
        <div>
          <h3 class="text-lg font-bold mb-4">Popular Games</h3>
          <ul class="text-sm text-gray-300 space-y-2">
            <li><a href="/london-runner-adventure" class="hover:text-white">London Runner Adventure</a></li>
            <li><a href="/british-puzzle-games" class="hover:text-white">British Puzzle Games</a></li>
            <li><a href="/uk-arcade-games" class="hover:text-white">UK Arcade Games</a></li>
            <li><a href="/london-landmarks-games" class="hover:text-white">London Landmarks Games</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-lg font-bold mb-4">Game Categories</h3>
          <ul class="text-sm text-gray-300 space-y-2">
            <li><a href="/runner-games" class="hover:text-white">Runner Games</a></li>
            <li><a href="/arcade-games" class="hover:text-white">Arcade Games</a></li>
            <li><a href="/british-games" class="hover:text-white">British Games</a></li>
            <li><a href="/free-games" class="hover:text-white">Free Games</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
        <p>&copy; 2025 UK HTML5 Games. All rights reserved. | <a href="/privacy" class="hover:text-white">Privacy Policy</a> | <a href="/terms" class="hover:text-white">Terms of Service</a></p>
      </div>
    </div>
  </footer>
</body>
</html> 